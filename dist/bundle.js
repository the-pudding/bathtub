!function(){var e={296:function(e,t,n){var r=/^\s+|\s+$/g,o=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,i=/^0o[0-7]+$/i,a=parseInt,c="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,l="object"==typeof self&&self&&self.Object===Object&&self,u=c||l||Function("return this")(),d=Object.prototype.toString,p=Math.max,h=Math.min,f=function(){return u.Date.now()};function b(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function y(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==d.call(e)}(e))return NaN;if(b(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=b(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(r,"");var n=s.test(e);return n||i.test(e)?a(e.slice(2),n?2:8):o.test(e)?NaN:+e}e.exports=function(e,t,n){var r,o,s,i,a,c,l=0,u=!1,d=!1,m=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function g(t){var n=r,s=o;return r=o=void 0,l=t,i=e.apply(s,n)}function v(e){return l=e,a=setTimeout(w,t),u?g(e):i}function x(e){var n=e-c;return void 0===c||n>=t||n<0||d&&e-l>=s}function w(){var e=f();if(x(e))return k(e);a=setTimeout(w,function(e){var n=t-(e-c);return d?h(n,s-(e-l)):n}(e))}function k(e){return a=void 0,m&&r?g(e):(r=o=void 0,i)}function S(){var e=f(),n=x(e);if(r=arguments,o=this,c=e,n){if(void 0===a)return v(c);if(d)return a=setTimeout(w,t),g(c)}return void 0===a&&(a=setTimeout(w,t)),i}return t=y(t)||0,b(n)&&(u=!!n.leading,s=(d="maxWait"in n)?p(y(n.maxWait)||0,t):s,m="trailing"in n?!!n.trailing:m),S.cancel=function(){void 0!==a&&clearTimeout(a),l=0,r=c=o=a=void 0},S.flush=function(){return void 0===a?i:k(f())},S}}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var s=t[r]={exports:{}};return e[r](s,s.exports,n),s.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){"use strict";var e=n(296),t=n.n(e);const r={android:()=>navigator.userAgent.match(/Android/i),blackberry:()=>navigator.userAgent.match(/BlackBerry/i),ios:()=>navigator.userAgent.match(/iPhone|iPad|iPod/i),opera:()=>navigator.userAgent.match(/Opera Mini/i),windows:()=>navigator.userAgent.match(/IEMobile/i),any:()=>r.android()||r.blackberry()||r.ios()||r.opera()||r.windows()};var o=r;const s='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line></svg>',i=d3.select("body");function a(e,t,n){const r=e.classed("is-visible");t.attr("aria-expanded",!r),e.classed("is-active",!r),e.classed("is-visible",!r),i.classed("modal-open",!r),!0===n&&(r?t.html((()=>s)):t.html((()=>'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-x"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg>')))}function c(e){return new Promise(((t,n)=>{const r=e.split(".").pop();"csv"===r?d3.csv(`assets/data/${e}`).then(t).catch(n):"json"===r?d3.json(`assets/data/${e}`).then(t).catch(n):n(new Error(`unsupported file type for: ${e}`))}))}function l(e,t){let n=e[t],r=`<div>${"bathTubScenes"==t?"Bathtub":"Shower"} Scenes in ${e.year}</div><ul>`;for(let e in n){let t=n[e],o=t.film,s=o.replace("/","_");r+=`<li>${t.actress}, <i>${o}</i></li>`,r+=`<img src="assets/images/bathtub-images/${s}.jpeg">`}return r+="</ul>",r}var u=function(){let e=440,t=d3.select("#line_graph").append("svg").attr("width",900).attr("height",500).append("g").attr("transform","translate(60,10)"),n={};var r;(r="best-actress-nominees.csv",c(r)).then((r=>{r.forEach((e=>{let t=e["Oscar Year"],r=0!==e.Bathtub.length,o=0!==e.Shower.length,s=e.Film,i=e.Actress;n[t]||(n[t]={},n[t].count=0),n[t].bathTubScenes||(n[t].bathTubScenes=[]),n[t].showerScenes||(n[t].showerScenes=[]),n[t].count++,r&&n[t].bathTubScenes.push({film:s,actress:i}),o&&n[t].showerScenes.push({film:s,actress:i})}));let o=[];for(let e in n)o.push({year:e,bathTubScenes:n[e].bathTubScenes,showerScenes:n[e].showerScenes});let s=d3.select("#line_graph").append("div").attr("class","tooltip").style("visibility","hidden").style("position","absolute"),i=d3.scaleLinear().domain(d3.extent(o.map((e=>e.year)))).range([0,810]);t.append("g").attr("transform","translate(0,440)").call(d3.axisBottom(i).tickFormat(d3.format("d")));let a=d3.scaleLinear().domain(d3.extent(o.map((e=>Math.max(e.bathTubScenes.length,e.showerScenes.length))))).range([e,0]);t.append("g").call(d3.axisLeft(a).ticks(4).tickFormat(d3.format("d"))),t.append("path").datum(o).attr("fill","none").attr("stroke","steelblue").attr("stroke-width",1.5).attr("d",d3.line().x((e=>i(e.year))).y((e=>a(e.bathTubScenes.length)))),t.selectAll("points").data(o).enter().append("circle").attr("cx",(e=>i(e.year))).attr("cy",(e=>a(e.bathTubScenes.length))).attr("r",4).attr("class","point").style("opacity",1).on("mouseover",((e,t)=>{s.style("visibility","visible").html(l(t,"bathTubScenes"))})).on("mousemove",(e=>{s.style("top",10+event.pageY+"px").style("left",10+event.pageX+"px")})).on("mouseout",(e=>{s.style("visibility","hidden")})),t.append("path").datum(o).attr("fill","none").attr("stroke","red").attr("stroke-width",1.5).attr("d",d3.line().x((e=>i(e.year))).y((e=>a(e.showerScenes.length)))),t.selectAll("points").data(o).enter().append("circle").attr("cx",(e=>i(e.year))).attr("cy",(e=>a(e.showerScenes.length))).attr("r",4).attr("class","point").style("opacity",1).on("mouseover",((e,t)=>{s.style("visibility","visible").html(l(t,"showerScenes"))})).on("mousemove",(e=>{s.style("top",10+event.pageY+"px").style("left",10+event.pageX+"px")})).on("mouseout",(e=>{s.style("visibility","hidden")})),t.append("text").attr("class","x label").attr("text-anchor","middle").attr("x",810).attr("y",480).text("Year"),t.append("text").attr("class","y label").attr("text-anchor","middle").attr("y",6).attr("dy",".75em").attr("transform","rotate(-90)").text("Bathtub Scenes")})).catch(console.error)},d=function(){};const p=[{image:"2018_02_stand-up",url:"2018/02/stand-up",hed:"The Structure of Stand-Up Comedy"},{image:"2018_04_birthday-paradox",url:"2018/04/birthday-paradox",hed:"The Birthday Paradox Experiment"},{image:"2018_11_boy-bands",url:"2018/11/boy-bands",hed:"Internet Boy Band Database"},{image:"2018_08_pockets",url:"2018/08/pockets",hed:"Womenâ€™s Pockets are Inferior"}];let h=null;function f(e){return`\n\t<a class='footer-recirc__article' href='https://pudding.cool/${e.url}' target='_blank' rel='noopener'>\n\t\t<img class='article__img' src='https://pudding.cool/common/assets/thumbnails/640/${e.image}.jpg' alt='${e.hed}'>\n\t\t<p class='article__headline'>${e.hed}</p>\n\t</a>\n\t`}var b=function(){!function(e){const t=new XMLHttpRequest,n=`https://pudding.cool/assets/data/stories.json?v=${Date.now()}`;t.open("GET",n,!0),t.onload=()=>{if(t.status>=200&&t.status<400){const n=JSON.parse(t.responseText);e(n)}else e(p)},t.onerror=()=>e(p),t.send()}((e=>{h=e,function(){const e=window.location.href,t=h.find((t=>e.includes(t.url))),n=t?t.topic:"culture",r=h.filter((t=>!e.includes(t.url))),o=r.filter((e=>e.topic!==n)),s=r.filter((e=>e.topic===n)),i=[];i.push(...o.slice(0,2)),s.length>1?(i.push(s[0]),i.push(s[Math.ceil(Math.random()*(s.length-1))])):i.push(...o.slice(2,4));const a=i.map(f).join("");d3.select(".pudding-footer .footer-recirc__articles").html(a)}()}))};const y=d3.select("body");let m=0;(function(e,t=document){return[...t.querySelectorAll(e)]})("[target='_blank']").forEach((e=>e.setAttribute("rel","noopener"))),y.classed("is-mobile",o.any()),window.addEventListener("resize",t()((function(){const e=y.node().offsetWidth;m!==e&&(m=e,d())}),150)),function(){const e=y.select("header");if(e.classed("is-sticky")){const t=y.select("#slide__menu"),n=y.select(".header__toggle");!function(e,t,n,r,o,i){const c=n.selectAll("a, button, .logo").nodes(),l=c[0],u=c[c.length-1];e.on("click",(()=>a(r,e,i))),t.on("click",(()=>a(r,t,i))),n.on("keydown",(t=>{const n=t.code,o=r.classed("is-visible");"Escape"===n&&!0===o&&(e.attr("aria-expanded",!1),e.node().focus(),r.classed("is-active",!1),r.classed("is-visible",!1),e.html((()=>s)))})),d3.select(l).on("keydown",(e=>{if(r.classed("is-visible")){const t=e.code,n=e.shiftKey;"Tab"===t&&!0===n&&(e.preventDefault(),u.focus())}})),d3.select(u).on("keydown",(e=>{if(r.classed("is-visible")){const t=e.code,n=e.shiftKey;"Tab"===t&&!1===n&&(e.preventDefault(),l.focus())}}))}(n,n,e,t,0,!0)}}(),u(),b()}()}();